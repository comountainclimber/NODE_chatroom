<!DOCTYPE html>
<html ng-app="ChatApp">
<head>
	<title>Chatroom!</title>
	<link rel="stylesheet", href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.5/angular.js" type="text/javascript"></script>
	<link rel="stylesheet", href="/stylesheets/style.css">
</head>
<body ng-controller="mainController" ng-cloak>

	<div class = "content">
		<div class = "container">
			<div class = "row">
				<h1> Socket.io chat! </h1>
			</div>
			<div class = "row">
				<form ng-submit="usernameSubmit()" ng-hide="hideUserNameInput">
				<input class = "username-input" placeholder="enter a username" ng-model="user.name">
				</input>
				<button class="submit"> submit </button>
				</form>
			</div>
			<div class = "row" ng-hide="hideTheChat">
				<div class = "room col-xs-10">
					<div ng-repeat="message in messages track by $index">
					{{message.user}} : {{message.data}}
					</div>
				</div>
				<div class = "users col-xs-2">
				<strong>USERS CURRENTLY IN CHAT: </strong>
					<div ng-repeat="user in allUsers track by $index">
					{{user}}
					</div>
				</div>
			<div class = "row">
				<form ng-submit="chatMessage()">
					<input class = "message-input form-control col-xs-12" type = "text" placeholder="send a message!" ng-model="chatData.message">
					</input>
					<button class="submit"> submit </button>
				</form>
			</div>
		</div>
	</div>

</body>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.7/socket.io.js"></script>
<script>
  var socket = io();
</script>
<script type="text/javascript" src="../javascripts/main.js"></script>
</html>